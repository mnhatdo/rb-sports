<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R&B Sports - Tin Th·ªÉ Thao & NƒÉng L∆∞·ª£ng</title>
    <meta name="description" content="R&B Sports - C·∫≠p nh·∫≠t tin t·ª©c th·ªÉ thao m·ªõi nh·∫•t t·ª´ c√°c ngu·ªìn h√†ng ƒë·∫ßu th·∫ø gi·ªõi. Nh√† ph√¢n ph·ªëi ch√≠nh th·ª©c Red Bull.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/logo.png">
    
    <!-- Google Analytics 4 -->
    <!-- Thay YOUR_GA4_MEASUREMENT_ID b·∫±ng ID th·ª±c t·∫ø -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA4_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA4_MEASUREMENT_ID');
    </script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="/" class="logo">
                <img src="/images/logo.png" alt="R&B Sports" style="height: 50px; width: auto;">
                <span>Sports</span>
            </a>
            
            <nav class="nav-menu">
                <a href="/" class="nav-link active">Trang ch·ªß</a>
                <a href="/news" class="nav-link">Tin t·ª©c</a>
                <a href="/products" class="nav-link">S·∫£n ph·∫©m</a>
                <a href="/about" class="nav-link">Gi·ªõi thi·ªáu</a>
            </nav>
            
            <a href="/cart" class="cart-btn">
                üõí Gi·ªè h√†ng
                <span class="cart-count" style="display: none;">0</span>
            </a>
            
            <button class="mobile-menu-btn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>
                            <span>Th·∫ø Gi·ªõi Th·ªÉ Thao</span><br>
                            Trong T·∫ßm Tay B·∫°n
                        </h1>
                        <p>
                            C·∫≠p nh·∫≠t tin t·ª©c th·ªÉ thao n√≥ng h·ªïi t·ª´ c√°c ngu·ªìn h√†ng ƒë·∫ßu th·∫ø gi·ªõi. 
                            T·ª´ b√≥ng ƒë√°, ƒëi·ªÅn kinh ƒë·∫øn boxing - t·∫•t c·∫£ ƒë·ªÅu c√≥ t·∫°i R&B Sports.
                        </p>
                        <div class="hero-buttons">
                            <a href="/news" class="btn btn-primary">
                                ƒê·ªçc tin ngay
                            </a>
                            <a href="/about" class="btn btn-secondary">
                                T√¨m hi·ªÉu th√™m
                            </a>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="hero-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="newsCount">--</span>
                                <span class="stat-label">Tin m·ªõi h√¥m nay</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">10+</span>
                                <span class="stat-label">Ngu·ªìn tin uy t√≠n</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">24/7</span>
                                <span class="stat-label">C·∫≠p nh·∫≠t li√™n t·ª•c</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Match Scores Section -->
        <section class="section scores-section" style="background: var(--gray-50); padding: 40px 0;">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">K·∫øt Qu·∫£ Tr·∫≠n ƒê·∫•u</h2>
                    <p class="section-subtitle">T·ªâ s·ªë c√°c tr·∫≠n ƒë·∫•u ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª´ ngu·ªìn tin t·ª©c</p>
                </div>
                
                <div id="matchScores" class="match-scores-container">
                    <div class="loading">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Featured News Section -->
        <section class="section news-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Tin N·ªïi B·∫≠t</h2>
                    <p class="section-subtitle">Nh·ªØng tin t·ª©c th·ªÉ thao m·ªõi nh·∫•t v√† ƒë√°ng ch√∫ √Ω nh·∫•t</p>
                </div>
                
                <!-- News Grid with Featured + Regular Cards -->
                <div id="homeNewsGrid" class="home-news-grid">
                    <!-- Skeleton loading cards -->
                    <div class="skeleton-card featured"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                </div>
                
                <!-- News without Images Section -->
                <h3 class="section-subtitle" style="margin-top: 50px; margin-bottom: 20px; font-size: 1.5rem; color: var(--gray-800);">Ti√™u ƒêi·ªÉm Kh√°c</h3>
                <div id="newsWithoutImages" class="news-simple-list">
                    <div class="skeleton-simple"></div>
                    <div class="skeleton-simple"></div>
                    <div class="skeleton-simple"></div>
                    <div class="skeleton-simple"></div>
                    <div class="skeleton-simple"></div>
                    <div class="skeleton-simple"></div>
                </div>
                
                <div class="text-center mt-20">
                    <a href="/news" class="btn btn-red">
                        Xem t·∫•t c·∫£ tin t·ª©c
                    </a>
                </div>
            </div>
        </section>
        
        <!-- Energy Banner (Subtle product promotion) -->
        <section class="energy-banner">
            <div class="container">
                <div class="energy-banner-content">
                    <div class="energy-banner-text">
                        <h3>Theo d√µi th·ªÉ thao c·∫ßn nƒÉng l∆∞·ª£ng</h3>
                        <p>Gi·ªØ tinh th·∫ßn lu√¥n t·ªânh t√°o v·ªõi ƒë·ªì u·ªëng nƒÉng l∆∞·ª£ng ch√≠nh h√£ng</p>
                    </div>
                    <a href="/products" class="btn btn-primary">
                        Kh√°m ph√° ngay
                    </a>
                </div>
            </div>
        </section>
        
        <!-- Products Section -->
        <section class="section products-section">
            <div class="container">
                <div class="products-intro">
                    <h2>N·∫°p NƒÉng L∆∞·ª£ng Cho ƒêam M√™</h2>
                    <p>R&B Sports t·ª± h√†o l√† nh√† ph√¢n ph·ªëi ch√≠nh th·ª©c c√°c s·∫£n ph·∫©m Red Bull t·∫°i Vi·ªát Nam</p>
                </div>
                
                <div id="productsGrid" class="products-grid">
                    <div class="loading">
                        <div class="spinner"></div>
                    </div>
                </div>
                
                <div class="text-center mt-20">
                    <a href="/products" class="btn btn-red">
                        Xem t·∫•t c·∫£ s·∫£n ph·∫©m
                    </a>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <h3>R&B Sports</h3>
                    <p>
                        N·ªÅn t·∫£ng tin t·ª©c th·ªÉ thao h√†ng ƒë·∫ßu, k·∫øt h·ª£p c√πng c√°c s·∫£n ph·∫©m nƒÉng l∆∞·ª£ng 
                        ch·∫•t l∆∞·ª£ng cao. ƒê·ªìng h√†nh c√πng b·∫°n tr√™n m·ªçi ch·∫∑ng ƒë∆∞·ªùng th·ªÉ thao.
                    </p>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-title">Tin t·ª©c</h4>
                    <nav class="footer-links">
                        <a href="/news">T·∫•t c·∫£ tin t·ª©c</a>
                        <a href="/news?category=general">Th·ªÉ thao chung</a>
                        <a href="/news?category=boxing">Boxing</a>
                        <a href="/news?category=athletics">ƒêi·ªÅn kinh</a>
                    </nav>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-title">S·∫£n ph·∫©m</h4>
                    <nav class="footer-links">
                        <a href="/products">T·∫•t c·∫£ s·∫£n ph·∫©m</a>
                        <a href="/product/red-bull-energy-drink">Red Bull Original</a>
                        <a href="/product/red-bull-sugarfree">Red Bull Sugarfree</a>
                        <a href="/product/red-bull-zero">Red Bull Zero</a>
                    </nav>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-title">H·ªó tr·ª£</h4>
                    <nav class="footer-links">
                        <a href="/about">Gi·ªõi thi·ªáu</a>
                        <a href="/cart">Gi·ªè h√†ng</a>
                        <a href="/admin">Qu·∫£n tr·ªã</a>
                    </nav>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2026 R&B Sports. Website m√¥ ph·ªèng ph·ª•c v·ª• m√¥n h·ªçc MarTech.</p>
                <div class="social-links">
                    <a href="https://www.facebook.com/redbull" target="_blank" rel="noopener" class="social-link" aria-label="Facebook" title="Red Bull Facebook">‚ñ†</a>
                    <a href="https://www.instagram.com/redbull" target="_blank" rel="noopener" class="social-link" aria-label="Instagram" title="Red Bull Instagram">‚óÜ</a>
                    <a href="https://www.youtube.com/@redbull" target="_blank" rel="noopener" class="social-link" aria-label="YouTube" title="Red Bull YouTube">‚ñ∂</a>
                    <a href="https://shopee.vn/search?keyword=red%20bull" target="_blank" rel="noopener" class="social-link" aria-label="Shopee" title="Mua Red Bull tr√™n Shopee">‚óâ</a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="/js/app.js"></script>
    <script>
        // Home page specific logic
        document.addEventListener('DOMContentLoaded', async function() {
            // Fetch and display match scores
            try {
                const scoresResponse = await fetch('/api/scores?limit=8');
                const scoresData = await scoresResponse.json();
                
                const scoresContainer = document.getElementById('matchScores');
                if (scoresData.success && scoresData.scores.length > 0) {
                    scoresContainer.innerHTML = '<div class="scores-grid"></div>';
                    const scoresGrid = scoresContainer.querySelector('.scores-grid');
                    
                    scoresData.scores.forEach(score => {
                        const scoreCard = document.createElement('div');
                        scoreCard.className = 'score-card';
                        
                        const winner = score.score_home > score.score_away ? 'home' : 
                                      score.score_away > score.score_home ? 'away' : 'draw';
                        
                        scoreCard.innerHTML = `
                            <div class="score-card-header">
                                <span class="score-source">${score.league || score.source}</span>
                                <span class="score-date">${score.status || 'FT'}</span>
                            </div>
                            <div class="score-card-body">
                                <div class="team ${winner === 'home' ? 'winner' : ''}">
                                    <span class="team-name" title="${score.team_home}">${score.team_home}</span>
                                    <span class="team-score">${score.score_home}</span>
                                </div>
                                <div class="score-divider">-</div>
                                <div class="team ${winner === 'away' ? 'winner' : ''}">
                                    <span class="team-score">${score.score_away}</span>
                                    <span class="team-name" title="${score.team_away}">${score.team_away}</span>
                                </div>
                            </div>
                            <a href="${score.link}" target="_blank" rel="noopener" class="score-link">
                                Xem chi ti·∫øt ‚ñ∂
                            </a>
                        `;
                        
                        scoresGrid.appendChild(scoreCard);
                    });
                } else {
                    scoresContainer.innerHTML = '<p class="text-muted text-center">Ch∆∞a c√≥ k·∫øt qu·∫£ tr·∫≠n ƒë·∫•u n√†o</p>';
                }
            } catch (error) {
                console.error('Error loading scores:', error);
                document.getElementById('matchScores').innerHTML = '<p class="text-muted text-center">Kh√¥ng th·ªÉ t·∫£i k·∫øt qu·∫£ tr·∫≠n ƒë·∫•u</p>';
            }
            
            // Fetch and display news - HOME PAGE LOGIC
            const newsResponse = await RBSports.fetchNews({ limit: 100 });
            
            if (newsResponse.success && newsResponse.data.length > 0) {
                const allNews = newsResponse.data;
                
                // Deduplicate news by title and link
                const seenTitles = new Set();
                const seenLinks = new Set();
                const uniqueNews = allNews.filter(item => {
                    const titleLower = item.title.toLowerCase().trim();
                    const linkLower = item.link.toLowerCase().trim();
                    if (seenTitles.has(titleLower) || seenLinks.has(linkLower)) {
                        return false;
                    }
                    seenTitles.add(titleLower);
                    seenLinks.add(linkLower);
                    return true;
                });
                
                // Filter for homepage: only from specific sources with images
                const allowedSources = ['Fox Sports', 'Deadspin', 'Sky Sports', 'Sportsnet', 'Sportskeeda', 'Inquirer Sports'];
                const newsWithImages = uniqueNews.filter(item => 
                    item.image && allowedSources.includes(item.source)
                );
                const newsWithoutImages = uniqueNews.filter(item => !item.image);
                
                // Update news count
                document.getElementById('newsCount').textContent = allNews.length + '+';
                
                // Render Home News Grid with Featured Card
                const homeNewsGrid = document.getElementById('homeNewsGrid');
                if (newsWithImages.length > 0) {
                    homeNewsGrid.innerHTML = '';
                    
                    newsWithImages.slice(0, 11).forEach((item, index) => {
                        const card = RBSports.createHomeNewsCard(item, index);
                        homeNewsGrid.appendChild(card);
                    });
                } else {
                    homeNewsGrid.innerHTML = '<p class="text-muted text-center" style="grid-column: 1/-1;">ƒêang t·∫£i tin t·ª©c...</p>';
                }
                
                // Render News without Images with description
                const newsWithoutImagesContainer = document.getElementById('newsWithoutImages');
                const limitedWithoutImages = newsWithoutImages.slice(0, 6);
                if (limitedWithoutImages.length > 0) {
                    newsWithoutImagesContainer.innerHTML = '';
                    limitedWithoutImages.forEach((item, index) => {
                        const card = document.createElement('div');
                        card.className = 'simple-news-item';
                        card.innerHTML = `
                            <a href="${item.link}" target="_blank" rel="noopener">
                                <h4 class="simple-news-title">${item.title}</h4>
                                <p class="simple-news-desc">${RBSports.truncateText(RBSports.stripHtml(item.description), 100)}</p>
                                <div class="simple-news-meta">
                                    <span class="news-source">${item.source}</span>
                                    <span>${RBSports.formatDate(item.pubDate)}</span>
                                </div>
                            </a>
                        `;
                        newsWithoutImagesContainer.appendChild(card);
                    });
                } else {
                    newsWithoutImagesContainer.style.display = 'none';
                }
            } else {
                document.getElementById('homeNewsGrid').innerHTML = '<p class="text-muted text-center" style="grid-column: 1/-1;">Kh√¥ng th·ªÉ t·∫£i tin t·ª©c. Vui l√≤ng th·ª≠ l·∫°i sau.</p>';
                document.getElementById('newsWithoutImages').innerHTML = '';
            }
            
            // Fetch and display products
            const productsResponse = await RBSports.fetchProducts();
            
            if (productsResponse.success && productsResponse.data.length > 0) {
                const productsGrid = document.getElementById('productsGrid');
                productsGrid.innerHTML = '';
                
                productsResponse.data.forEach(product => {
                    productsGrid.appendChild(RBSports.createProductCard(product));
                });
            } else {
                document.getElementById('productsGrid').innerHTML = '<p class="text-muted text-center">Kh√¥ng th·ªÉ t·∫£i s·∫£n ph·∫©m</p>';
            }
        });
    </script>
</body>
</html>
